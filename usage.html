<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Nov 4, 2015 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Usage</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Addicticks" />
    <meta name="Date-Revision-yyyymmdd" content="20151104" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                HTTPS Upload Maven Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2015-11-04</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1.0</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>HTTPS Upload Plugin - Usage<a name="HTTPS_Upload_Plugin_-_Usage"></a></h2><div class="section"><h3>Determining what the server endpoint accepts<a name="Determining_what_the_server_endpoint_accepts"></a></h3><p>In order to use the plugin you'll need to know a little about what the endpoint you plan to upload to actually accepts in terms of field names.</p><p>Most often the server will expose some kind of html form and the easiest way to figure out what field names are used is to peak at such a file. Suppose the endpoint's upload html file looks like this:</p><div class="source"><pre>&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;File Upload&lt;/title&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;form method=&quot;POST&quot; action=&quot;upload&quot; enctype=&quot;multipart/form-data&quot; &gt;
            File: &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;fff&quot; /&gt; &lt;br/&gt;
            Destination: &lt;input type=&quot;text&quot; name=&quot;destination&quot; value=&quot;/tmp&quot;/&gt;
            &lt;/br&gt;
            &lt;input type=&quot;submit&quot; value=&quot;Upload&quot; name=&quot;upload&quot; id=&quot;upload&quot; /&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre></div><p>From this we can see the server accepts a file (or perhaps multiple files?) to be uploaded into a field called <tt>file</tt>. In addition it also supports a plain text field called <tt>destination</tt>.</p><p>If you don't have such information available to you then there are other options:</p><ol style="list-style-type: decimal"><li>You can guess about those field names. Quite often a field of type <tt>file</tt> often has a field name of ...tada ... <tt>file</tt>. If the endpoint accepts multiple files in one upload operation then it is likely that it will accept them all in the same field name.</li><li>Ask the administrator of the endpoint for this information.</li><li>Upload a file from your browser and use your browser's network inspector to see what is actually being sent.</li></ol></div><div class="section"><h3>Simple usage example<a name="Simple_usage_example"></a></h3><p>Uploading a single file. The file in <tt>file</tt> is uploaded to <tt>targetURL</tt>.</p><div class="source"><pre>    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.addicticks.oss.maven&lt;/groupId&gt;
                &lt;artifactId&gt;httpsupload-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.1.0&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;my-upload&lt;/id&gt;
                        &lt;phase&gt;deploy&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;single&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;file&gt;C://alt/data.txt&lt;/file&gt;
                            &lt;targetURL&gt;http://solar.mycompany.org/upload&lt;/targetURL&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
</pre></div><p>Default settings will apply: File will be uploaded into a form field name of <tt>file</tt> and the MIME type used in the file upload will be derived from the file name.</p></div><div class="section"><h3>Complex usage example (multiple files, extra fields)<a name="Complex_usage_example_multiple_files_extra_fields"></a></h3><p>In this example multiple files are uploaded in one operation. All files will be uploaded into same field, namely <tt>file</tt>.</p><p>A single additional field, <tt>destination</tt>, is uploaded as well.</p><div class="source"><pre>    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.addicticks.oss.maven&lt;/groupId&gt;
                &lt;artifactId&gt;httpsupload-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.1.0&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;my-upload&lt;/id&gt;
                        &lt;phase&gt;deploy&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;multiple&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;targetURL&gt;https://secure.solar.mycompany.org/upload&lt;/targetURL&gt;
                            &lt;uploadFiles&gt;
                                &lt;uploadFile&gt;
                                    &lt;file&gt;e:\\x.txt&lt;/file&gt;
                                &lt;/uploadFile&gt;
                                &lt;uploadFile&gt;
                                    &lt;file&gt;e:\\x.datdat&lt;/file&gt;
                                    &lt;hintFilename&gt;y.dat&lt;/hintFilename&gt;
                                &lt;/uploadFile&gt;
                            &lt;/uploadFiles&gt;
                            &lt;extraFields&gt;
                                &lt;destination&gt;&lt;/destination&gt;
                            &lt;/extraFields&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
</pre></div></div><div class="section"><h3>When the endpoint requires authentication<a name="When_the_endpoint_requires_authentication"></a></h3><p>The plugin can upload to an endpoint that requires authentication. This is controlled by <tt>useAuthentication</tt> parameter. As is normal for Maven plugins credential information is not configured in the plugin itself but in the <tt>&lt;servers&gt;</tt> section of <tt>settings.xml</tt>. </p><p>If <tt>useAuthentication</tt> is <tt>true</tt> then the plugin will search the Maven settings for a server with an <tt>id</tt> that matches the hostname (in lowercase) of the <tt>targetURL</tt> you are uploading to. For this reason remember to specify the <tt>id</tt> in lowercase.</p><p>If such a match is found then the plugin will send along the username and password from the Maven settings.</p><p>As an example suppose you have the following in your <tt>settings.xml</tt>:</p><div class="source"><pre>    &lt;servers&gt;
        &lt;server&gt;
            &lt;id&gt;fileuploadsite.com&lt;/id&gt;
            &lt;username&gt;johnny&lt;/username&gt;
            &lt;password&gt;foxtrot&lt;/password&gt;
        &lt;/server&gt;
    &lt;/servers&gt;
</pre></div><p>and you're uploading to <tt>http://fileuploadsite.com/personal/mupload</tt> then the plugin will send along the username and password as specified above.</p><p>Note that currently only auth type <i>Basic</i> is supported.</p></div><div class="section"><h3>Disabling certificate verification (https)<a name="Disabling_certificate_verification_https"></a></h3><p>Sometimes when dealing with a HTTPS site it may to useful to turn off certificate validation, for example if the endpoint uses a self-signed certificate and you trust the endpoint. Self-signed certificates are often used on intranets.</p><p>Certificate validation can be turned off by using the <tt>validateCertificate</tt> parameter. This will disable certificate chain verification as well as hostname verification.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2015
                        <a href="http://www.addicticks.com">Addicticks</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>